<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: include/trace/trace.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_0a88ad4144c488270dceb381ebfd1772.html">trace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">trace.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>User and kernel code definitions for system-wide tracing.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrace__event.html">trace_event</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trace event.  <a href="structtrace__event.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrace__buffer.html">trace_buffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trace buffer.  <a href="structtrace__buffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a938b66b7f926f1c19b6a8189cc2fff81"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a938b66b7f926f1c19b6a8189cc2fff81">TRACE_EVENT</a>(s,  e,  a)&#160;&#160;&#160;((uint64_t)(s)&lt;&lt;48|(uint64_t)(e)&lt;&lt;32|(a))</td></tr>
<tr class="separator:a938b66b7f926f1c19b6a8189cc2fff81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac06f8e0243cd3d66e8a9b58a4718c9e0"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#ac06f8e0243cd3d66e8a9b58a4718c9e0">trace_init</a> (void)</td></tr>
<tr class="memdesc:ac06f8e0243cd3d66e8a9b58a4718c9e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize per-core tracing buffer.  <a href="#ac06f8e0243cd3d66e8a9b58a4718c9e0">More...</a><br /></td></tr>
<tr class="separator:ac06f8e0243cd3d66e8a9b58a4718c9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab525f57ea949f7002d5d1cca0f0c6b1f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab525f57ea949f7002d5d1cca0f0c6b1f"></a>
errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#ab525f57ea949f7002d5d1cca0f0c6b1f">trace_disable_domain</a> (void)</td></tr>
<tr class="memdesc:ab525f57ea949f7002d5d1cca0f0c6b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn off tracing for this domain. <br /></td></tr>
<tr class="separator:ab525f57ea949f7002d5d1cca0f0c6b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fca21c96d9c3b1b85ce14d77339b31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#ae9fca21c96d9c3b1b85ce14d77339b31">trace_reset_buffer</a> (void)</td></tr>
<tr class="memdesc:ae9fca21c96d9c3b1b85ce14d77339b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the trace buffer on the current core.  <a href="#ae9fca21c96d9c3b1b85ce14d77339b31">More...</a><br /></td></tr>
<tr class="separator:ae9fca21c96d9c3b1b85ce14d77339b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a8bba8b0e3a9e25224d452350a22278"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a2a8bba8b0e3a9e25224d452350a22278">trace_reset_all</a> (void)</td></tr>
<tr class="memdesc:a2a8bba8b0e3a9e25224d452350a22278"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all trace buffers discarding the current trace.  <a href="#a2a8bba8b0e3a9e25224d452350a22278">More...</a><br /></td></tr>
<tr class="separator:a2a8bba8b0e3a9e25224d452350a22278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d127b6804fff263bc35addb1268b853"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a1d127b6804fff263bc35addb1268b853">trace_setup_on_core</a> (struct <a class="el" href="structcapref.html">capref</a> *retcap)</td></tr>
<tr class="memdesc:a1d127b6804fff263bc35addb1268b853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the trace buffer on the current core and notify the kernel.  <a href="#a1d127b6804fff263bc35addb1268b853">More...</a><br /></td></tr>
<tr class="separator:a1d127b6804fff263bc35addb1268b853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4552052bf260e2252b8b80502169b57d"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a4552052bf260e2252b8b80502169b57d">trace_setup_child</a> (struct <a class="el" href="structcnoderef.html">cnoderef</a> taskcn, dispatcher_handle_t handle)</td></tr>
<tr class="memdesc:a4552052bf260e2252b8b80502169b57d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the tracing buffer for a child domain.  <a href="#a4552052bf260e2252b8b80502169b57d">More...</a><br /></td></tr>
<tr class="separator:a4552052bf260e2252b8b80502169b57d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e10b57faa8a2720a0eb6eab50653c4"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a91e10b57faa8a2720a0eb6eab50653c4">trace_control</a> (uint64_t start_trigger, uint64_t stop_trigger, uint64_t duration)</td></tr>
<tr class="memdesc:a91e10b57faa8a2720a0eb6eab50653c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the trigger events which start and stop tracing.  <a href="#a91e10b57faa8a2720a0eb6eab50653c4">More...</a><br /></td></tr>
<tr class="separator:a91e10b57faa8a2720a0eb6eab50653c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1554da0455e0ad0b4fb6acfdd7dafcf6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1554da0455e0ad0b4fb6acfdd7dafcf6"></a>
errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a1554da0455e0ad0b4fb6acfdd7dafcf6">trace_wait</a> (void)</td></tr>
<tr class="memdesc:a1554da0455e0ad0b4fb6acfdd7dafcf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a trace to complete. <br /></td></tr>
<tr class="separator:a1554da0455e0ad0b4fb6acfdd7dafcf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a7eb21b0bba0e06cde91bb95a20d13"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#ae6a7eb21b0bba0e06cde91bb95a20d13">trace_dump</a> (char *buf, size_t buflen, int *number_of_events)</td></tr>
<tr class="memdesc:ae6a7eb21b0bba0e06cde91bb95a20d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump the contents of the trace buffers.  <a href="#ae6a7eb21b0bba0e06cde91bb95a20d13">More...</a><br /></td></tr>
<tr class="separator:ae6a7eb21b0bba0e06cde91bb95a20d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d6ae6e207559ad7dc709899f2cac96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a74d6ae6e207559ad7dc709899f2cac96">trace_flush</a> (struct event_closure callback)</td></tr>
<tr class="memdesc:a74d6ae6e207559ad7dc709899f2cac96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the trace buffer to the "best" destination.  <a href="#a74d6ae6e207559ad7dc709899f2cac96">More...</a><br /></td></tr>
<tr class="separator:a74d6ae6e207559ad7dc709899f2cac96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d37ad0119d030706672d6499cdddda2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a1d37ad0119d030706672d6499cdddda2">trace_set_autoflush</a> (bool enabled)</td></tr>
<tr class="memdesc:a1d37ad0119d030706672d6499cdddda2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/Disable the autoflush mechanism of the tracing framework.  <a href="#a1d37ad0119d030706672d6499cdddda2">More...</a><br /></td></tr>
<tr class="separator:a1d37ad0119d030706672d6499cdddda2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6850fb49ec0f54f2a0c9a3d1b58dd2"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a2b6850fb49ec0f54f2a0c9a3d1b58dd2">trace_prepare</a> (struct event_closure callback)</td></tr>
<tr class="memdesc:a2b6850fb49ec0f54f2a0c9a3d1b58dd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional call to do "extra" preparation of the tracing framework.  <a href="#a2b6850fb49ec0f54f2a0c9a3d1b58dd2">More...</a><br /></td></tr>
<tr class="separator:a2b6850fb49ec0f54f2a0c9a3d1b58dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c64757872bf379366b3d94fbf9b88aa"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a2c64757872bf379366b3d94fbf9b88aa">trace_set_subsys_enabled</a> (uint16_t subsys, bool enabled)</td></tr>
<tr class="memdesc:a2c64757872bf379366b3d94fbf9b88aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/Disable the logging of a given subsytem.  <a href="#a2c64757872bf379366b3d94fbf9b88aa">More...</a><br /></td></tr>
<tr class="separator:a2c64757872bf379366b3d94fbf9b88aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62de5ea5abf841d7fb64333764d7f424"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62de5ea5abf841d7fb64333764d7f424"></a>
errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a62de5ea5abf841d7fb64333764d7f424">trace_set_all_subsys_enabled</a> (bool enabled)</td></tr>
<tr class="memdesc:a62de5ea5abf841d7fb64333764d7f424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/Disable all subsystems. <br /></td></tr>
<tr class="separator:a62de5ea5abf841d7fb64333764d7f424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ac7e4a64919660dd1dca33b5b73d40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html#a63ac7e4a64919660dd1dca33b5b73d40">trace_init_disp</a> (void)</td></tr>
<tr class="separator:a63ac7e4a64919660dd1dca33b5b73d40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>User and kernel code definitions for system-wide tracing. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a938b66b7f926f1c19b6a8189cc2fff81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRACE_EVENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((uint64_t)(s)&lt;&lt;48|(uint64_t)(e)&lt;&lt;32|(a))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constants for the subsystems and events are generated from the file trace_definitions/trace_defs.pleco that can be included after compiling with #include &lt;trace_definitions/trace_defs.h&gt;</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a91e10b57faa8a2720a0eb6eab50653c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t trace_control </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_trigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>stop_trigger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specify the trigger events which start and stop tracing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_trigger</td><td>- Raw event value which starts the trace </td></tr>
    <tr><td class="paramname">stop_trigger</td><td>- Raw event value which stops the trace </td></tr>
    <tr><td class="paramname">duration</td><td>- Maximum trace duration in cycles (0 is infinite) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae6a7eb21b0bba0e06cde91bb95a20d13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t trace_dump </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>number_of_events_dumped</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump the contents of the trace buffers. </p>
<p>buf : The buffer to write the trace log into. buflen : Length of buf. number_of_events_dumped : (optional) Returns how many events have been written into the buffer. </p>

</div>
</div>
<a class="anchor" id="a74d6ae6e207559ad7dc709899f2cac96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trace_flush </td>
          <td>(</td>
          <td class="paramtype">struct event_closure&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush the trace buffer to the "best" destination. </p>
<p>This function automatically determines if bfscope is running and if someone is connected over the network. If so, the buffer is flushed over the network. If nobody is connected or bfscope is not running, the buffer is flushed onto the console. </p>

</div>
</div>
<a class="anchor" id="ac06f8e0243cd3d66e8a9b58a4718c9e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t trace_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize per-core tracing buffer. </p>
<p>This function creates a cap for the tracing buffer in taskcn. It is called from init at startup.</p>
<p>Note that it does <em>not</em> map the buffer into its own vspace. </p>

</div>
</div>
<a class="anchor" id="a63ac7e4a64919660dd1dca33b5b73d40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trace_init_disp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets up tracing framework for current dispatcher </p>

</div>
</div>
<a class="anchor" id="a2b6850fb49ec0f54f2a0c9a3d1b58dd2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t trace_prepare </td>
          <td>(</td>
          <td class="paramtype">struct event_closure&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional call to do "extra" preparation of the tracing framework. </p>
<p>Call this method to prepare for tracing. This is not a preparation in a strict sense, i.e. tracing will also work when you do not call this method, but it provides some benefits.</p>
<p>Currently it provides a mechanism for clock synchronization between cores. </p>

</div>
</div>
<a class="anchor" id="a2a8bba8b0e3a9e25224d452350a22278"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trace_reset_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all trace buffers discarding the current trace. </p>
<p>Reset head and tail pointers. </p>

</div>
</div>
<a class="anchor" id="ae9fca21c96d9c3b1b85ce14d77339b31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trace_reset_buffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the trace buffer on the current core. </p>
<p>Reset head and tail pointers. </p>

</div>
</div>
<a class="anchor" id="a1d37ad0119d030706672d6499cdddda2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trace_set_autoflush </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/Disable the autoflush mechanism of the tracing framework. </p>
<p>If autoflush is enabled, the tracing framework will automatically flush the content of the buffer periodically.</p>
<p>NOTE: This only works when bfscope is running!</p>
<p>NOTE: If you enable autoflush, it will affect your performance during the time period you are flushing, as the buffer might be flushed at any given time. </p>

</div>
</div>
<a class="anchor" id="a2c64757872bf379366b3d94fbf9b88aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t trace_set_subsys_enabled </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>subsys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/Disable the logging of a given subsytem. </p>
<p>subsys: A subsystem, i.e. the macro generated by the DSL. enabled: True iff the events should be logged. </p>

</div>
</div>
<a class="anchor" id="a4552052bf260e2252b8b80502169b57d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t trace_setup_child </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcnoderef.html">cnoderef</a>&#160;</td>
          <td class="paramname"><em>taskcn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dispatcher_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the tracing buffer for a child domain. </p>
<p>Assumes that the child domain is currently being spawned (because we rely on libspawndomain having the right state to allow us to map the trace buffer into the child's vspace).</p>
<p>trace_init must already have been called </p>

</div>
</div>
<a class="anchor" id="a1d127b6804fff263bc35addb1268b853"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t trace_setup_on_core </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcapref.html">capref</a> *&#160;</td>
          <td class="paramname"><em>retcap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the trace buffer on the current core and notify the kernel. </p>
<p>Clear the buffer. Return the cap for the buffer. Should be called once on each core. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
