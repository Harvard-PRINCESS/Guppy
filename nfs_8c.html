<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: lib/nfs/nfs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_9ed955a98a23e94e6a1f2c02db7482ce.html">nfs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nfs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NFS client.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac06d1f8a75deff2fce8db65b8b59df67"><td class="memItemLeft" align="right" valign="top">struct nfs_client *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#ac06d1f8a75deff2fce8db65b8b59df67">nfs_mount</a> (struct ip_addr server, const char *path, <a class="el" href="include_2nfs_2nfs_8h.html#a73b4afc496e481687e8b7d11ea3c7f7e">nfs_mount_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:ac06d1f8a75deff2fce8db65b8b59df67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS mount operation.  <a href="#ac06d1f8a75deff2fce8db65b8b59df67">More...</a><br /></td></tr>
<tr class="separator:ac06d1f8a75deff2fce8db65b8b59df67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6502d41606a5f7f411c56b6dd73d6e"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a5d6502d41606a5f7f411c56b6dd73d6e">nfs_getattr</a> (struct nfs_client *client, struct nfs_fh3 fh, <a class="el" href="include_2nfs_2nfs_8h.html#afc6f71a3d8847b942013c5f3ae1006f1">nfs_getattr_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a5d6502d41606a5f7f411c56b6dd73d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS getattr operation.  <a href="#a5d6502d41606a5f7f411c56b6dd73d6e">More...</a><br /></td></tr>
<tr class="separator:a5d6502d41606a5f7f411c56b6dd73d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b797882e43fba23cf8590d76a462b6e"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a3b797882e43fba23cf8590d76a462b6e">nfs_setattr</a> (struct nfs_client *client, struct nfs_fh3 fh, sattr3 new_attributes, bool guarded, <a class="el" href="include_2nfs_2nfs_8h.html#a4834971408748a2b7b83831550b03ed6">nfs_setattr_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a3b797882e43fba23cf8590d76a462b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS setattr operation.  <a href="#a3b797882e43fba23cf8590d76a462b6e">More...</a><br /></td></tr>
<tr class="separator:a3b797882e43fba23cf8590d76a462b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92d1713eac3772540135222695209a5"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#ac92d1713eac3772540135222695209a5">nfs_readdir</a> (struct nfs_client *client, struct nfs_fh3 fh, cookie3 cookie, cookieverf3 cookieverf, <a class="el" href="include_2nfs_2nfs_8h.html#ad6e4b8c72df5f0fbe7c3437e2b158dd4">nfs_readdir_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:ac92d1713eac3772540135222695209a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS readdir operation.  <a href="#ac92d1713eac3772540135222695209a5">More...</a><br /></td></tr>
<tr class="separator:ac92d1713eac3772540135222695209a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe63f28c7206fc2ee6d6b708923f54bb"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#afe63f28c7206fc2ee6d6b708923f54bb">nfs_readdirplus</a> (struct nfs_client *client, struct nfs_fh3 fh, cookie3 cookie, cookieverf3 cookieverf, <a class="el" href="include_2nfs_2nfs_8h.html#a776160e9478bc1dcf8269427080be6c0">nfs_readdirplus_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:afe63f28c7206fc2ee6d6b708923f54bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS readdirplus operation.  <a href="#afe63f28c7206fc2ee6d6b708923f54bb">More...</a><br /></td></tr>
<tr class="separator:afe63f28c7206fc2ee6d6b708923f54bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47632dc11f38d8d39211cc90bc41bba6"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a47632dc11f38d8d39211cc90bc41bba6">nfs_lookup</a> (struct nfs_client *client, struct nfs_fh3 dirfh, const char *name, <a class="el" href="include_2nfs_2nfs_8h.html#aa894499d24c4bad602349e642cebe9ff">nfs_lookup_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a47632dc11f38d8d39211cc90bc41bba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS lookup operation.  <a href="#a47632dc11f38d8d39211cc90bc41bba6">More...</a><br /></td></tr>
<tr class="separator:a47632dc11f38d8d39211cc90bc41bba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7cc016a6f70c4b982df33f33d18b337"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#ae7cc016a6f70c4b982df33f33d18b337">nfs_access</a> (struct nfs_client *client, struct nfs_fh3 fh, uint32_t access, <a class="el" href="include_2nfs_2nfs_8h.html#a55a69c4228e02c3c8a4876f7e3b816fa">nfs_access_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:ae7cc016a6f70c4b982df33f33d18b337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS access operation.  <a href="#ae7cc016a6f70c4b982df33f33d18b337">More...</a><br /></td></tr>
<tr class="separator:ae7cc016a6f70c4b982df33f33d18b337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431b1d2ce87e08445377f6116a1df5ec"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a431b1d2ce87e08445377f6116a1df5ec">nfs_read</a> (struct nfs_client *client, struct nfs_fh3 fh, offset3 offset, count3 count, <a class="el" href="include_2nfs_2nfs_8h.html#a9e0eca4fba49d0b41d7cd7d6d7f61ac9">nfs_read_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a431b1d2ce87e08445377f6116a1df5ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS read operation.  <a href="#a431b1d2ce87e08445377f6116a1df5ec">More...</a><br /></td></tr>
<tr class="separator:a431b1d2ce87e08445377f6116a1df5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfa846e4ca0fae3d8683fb4ae4f2242"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a0cfa846e4ca0fae3d8683fb4ae4f2242">nfs_write</a> (struct nfs_client *client, struct nfs_fh3 fh, offset3 offset, const void *data, count3 count, stable_how stable, <a class="el" href="include_2nfs_2nfs_8h.html#a9876f65e6e199b9f7837539a1fc3924c">nfs_write_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a0cfa846e4ca0fae3d8683fb4ae4f2242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS write operation.  <a href="#a0cfa846e4ca0fae3d8683fb4ae4f2242">More...</a><br /></td></tr>
<tr class="separator:a0cfa846e4ca0fae3d8683fb4ae4f2242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0421330c1fea736bced16df8a4af288c"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a0421330c1fea736bced16df8a4af288c">nfs_create</a> (struct nfs_client *client, struct nfs_fh3 dir, const char *name, bool guarded, sattr3 attributes, <a class="el" href="include_2nfs_2nfs_8h.html#a14f2496698cc3538f60a5c8fef8d3dcd">nfs_create_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a0421330c1fea736bced16df8a4af288c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS create operation (unchecked or guarded)  <a href="#a0421330c1fea736bced16df8a4af288c">More...</a><br /></td></tr>
<tr class="separator:a0421330c1fea736bced16df8a4af288c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927b91445f22b178fc7162d87b3d8280"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a927b91445f22b178fc7162d87b3d8280">nfs_mkdir</a> (struct nfs_client *client, struct nfs_fh3 dir, const char *name, sattr3 attributes, <a class="el" href="include_2nfs_2nfs_8h.html#a103b3169aef3bb0924cd7cece3aa2c2a">nfs_mkdir_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a927b91445f22b178fc7162d87b3d8280"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS mkdir operation.  <a href="#a927b91445f22b178fc7162d87b3d8280">More...</a><br /></td></tr>
<tr class="separator:a927b91445f22b178fc7162d87b3d8280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a669a915dfe3d37e8006792668fa22a51"><td class="memItemLeft" align="right" valign="top">err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#a669a915dfe3d37e8006792668fa22a51">nfs_remove</a> (struct nfs_client *client, struct nfs_fh3 dir, const char *name, <a class="el" href="include_2nfs_2nfs_8h.html#abcb07aa59ab84b0ec249f950eab198b0">nfs_remove_callback_t</a> callback, void *cbarg)</td></tr>
<tr class="memdesc:a669a915dfe3d37e8006792668fa22a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an NFS remove operation.  <a href="#a669a915dfe3d37e8006792668fa22a51">More...</a><br /></td></tr>
<tr class="separator:a669a915dfe3d37e8006792668fa22a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd79bd18bd2907bd76199505ca02c00f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd79bd18bd2907bd76199505ca02c00f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs_8c.html#acd79bd18bd2907bd76199505ca02c00f">nfs_destroy</a> (struct nfs_client *client)</td></tr>
<tr class="memdesc:acd79bd18bd2907bd76199505ca02c00f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reclaim memory and terminate any outstanding operations. <br /></td></tr>
<tr class="separator:acd79bd18bd2907bd76199505ca02c00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NFS client. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="aace260cf5f6266e1e9cf2b7ab533266b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nfs_8c.html#aace260cf5f6266e1e9cf2b7ab533266b">nfs_mount_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>What state are we at in initialising this mount? </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="aace260cf5f6266e1e9cf2b7ab533266bad4a7e2cce6957a7ca06268cbb9dde47e"></a>NFS_INIT_GETPORT_MOUNT&#160;</td><td class="fielddoc">
<ol type="1">
<li>consult portmap for mountd port </li>
</ol>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aace260cf5f6266e1e9cf2b7ab533266ba37e93685bae6f7324358420ca2790f81"></a>NFS_INIT_GETPORT_NFS&#160;</td><td class="fielddoc">
<ol type="1">
<li>consult portmap for nfsd port </li>
</ol>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aace260cf5f6266e1e9cf2b7ab533266bafe9d78d5b8112e377aefb7f3c5deb02f"></a>NFS_INIT_MOUNT&#160;</td><td class="fielddoc">
<ol type="1">
<li>call mountd to perform mount </li>
</ol>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="aace260cf5f6266e1e9cf2b7ab533266ba4ba7010382d7cf99b7f5c32008da82de"></a>NFS_INIT_COMPLETE&#160;</td><td class="fielddoc">
<ol type="1">
<li>complete </li>
</ol>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ae7cc016a6f70c4b982df33f33d18b337"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_access </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>access</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a55a69c4228e02c3c8a4876f7e3b816fa">nfs_access_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS access operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for file/object to check access to </td></tr>
    <tr><td class="paramname">access</td><td>Rights to check for </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a0421330c1fea736bced16df8a4af288c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_create </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>guarded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sattr3&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a14f2496698cc3538f60a5c8fef8d3dcd">nfs_create_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS create operation (unchecked or guarded) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">dir</td><td>Filehandle for directory in which to create file </td></tr>
    <tr><td class="paramname">name</td><td>Name of file to create </td></tr>
    <tr><td class="paramname">guarded</td><td>True iff the operation should fail if the file already exists </td></tr>
    <tr><td class="paramname">attributes</td><td>Initial attributes for the file </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a5d6502d41606a5f7f411c56b6dd73d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_getattr </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#afc6f71a3d8847b942013c5f3ae1006f1">nfs_getattr_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS getattr operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for directory to stat </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a47632dc11f38d8d39211cc90bc41bba6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_lookup </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>dirfh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#aa894499d24c4bad602349e642cebe9ff">nfs_lookup_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS lookup operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">dirfh</td><td>Filehandle for directory to lookup </td></tr>
    <tr><td class="paramname">name</td><td>Name to lookup </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a927b91445f22b178fc7162d87b3d8280"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_mkdir </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sattr3&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a103b3169aef3bb0924cd7cece3aa2c2a">nfs_mkdir_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS mkdir operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">dir</td><td>Filehandle for directory in which to create directory </td></tr>
    <tr><td class="paramname">name</td><td>Name of directory to create </td></tr>
    <tr><td class="paramname">attributes</td><td>Initial attributes for the directory </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ac06d1f8a75deff2fce8db65b8b59df67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct nfs_client* nfs_mount </td>
          <td>(</td>
          <td class="paramtype">struct ip_addr&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a73b4afc496e481687e8b7d11ea3c7f7e">nfs_mount_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS mount operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>IP address of NFSv3 server </td></tr>
    <tr><td class="paramname">path</td><td>Path on server to mount </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when mount completes or fails </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nfs_client instance pointer on success, or NULL on error. If this call succeeds, the returned client instance must be freed by a later call to <a class="el" href="nfs_8c.html#acd79bd18bd2907bd76199505ca02c00f" title="Reclaim memory and terminate any outstanding operations. ">nfs_destroy()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a431b1d2ce87e08445377f6116a1df5ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_read </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">offset3&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">count3&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a9e0eca4fba49d0b41d7cd7d6d7f61ac9">nfs_read_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS read operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for file to read </td></tr>
    <tr><td class="paramname">offset</td><td>Offset from start of file to read from </td></tr>
    <tr><td class="paramname">count</td><td>Maximum number of bytes to read </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ac92d1713eac3772540135222695209a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_readdir </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cookie3&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cookieverf3&#160;</td>
          <td class="paramname"><em>cookieverf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#ad6e4b8c72df5f0fbe7c3437e2b158dd4">nfs_readdir_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS readdir operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for directory to read </td></tr>
    <tr><td class="paramname">cookie</td><td>Cookie from a previous call, or NFS_READDIR_COOKIE for a new call </td></tr>
    <tr><td class="paramname">cookieverf</td><td>Cookie verifier from a previous call, or NFS_READDIR_COOKIEVERF </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="afe63f28c7206fc2ee6d6b708923f54bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_readdirplus </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cookie3&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cookieverf3&#160;</td>
          <td class="paramname"><em>cookieverf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a776160e9478bc1dcf8269427080be6c0">nfs_readdirplus_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS readdirplus operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for directory to read </td></tr>
    <tr><td class="paramname">cookie</td><td>Cookie from a previous call, or NFS_READDIR_COOKIE for a new call </td></tr>
    <tr><td class="paramname">cookieverf</td><td>Cookie verifier from a previous call, or NFS_READDIR_COOKIEVERF </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a669a915dfe3d37e8006792668fa22a51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_remove </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#abcb07aa59ab84b0ec249f950eab198b0">nfs_remove_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS remove operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">dir</td><td>Filehandle for directory in which to remove file </td></tr>
    <tr><td class="paramname">name</td><td>Name of file to remove </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a3b797882e43fba23cf8590d76a462b6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_setattr </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sattr3&#160;</td>
          <td class="paramname"><em>new_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>guarded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a4834971408748a2b7b83831550b03ed6">nfs_setattr_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS setattr operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for directory which attributes are to be modified </td></tr>
    <tr><td class="paramname">new</td><td>New attributes for directory </td></tr>
    <tr><td class="paramname">guarded</td><td>TODO </td></tr>
    <tr><td class="paramname">ctime</td><td>TODO </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a0cfa846e4ca0fae3d8683fb4ae4f2242"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">err_t nfs_write </td>
          <td>(</td>
          <td class="paramtype">struct nfs_client *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nfs_fh3&#160;</td>
          <td class="paramname"><em>fh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">offset3&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">count3&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">stable_how&#160;</td>
          <td class="paramname"><em>stable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2nfs_2nfs_8h.html#a9876f65e6e199b9f7837539a1fc3924c">nfs_write_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbarg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an NFS write operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>NFS client pointer, which has completed the mount process </td></tr>
    <tr><td class="paramname">fh</td><td>Filehandle for file to write </td></tr>
    <tr><td class="paramname">offset</td><td>Offset from start of file to write from </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to data to write </td></tr>
    <tr><td class="paramname">count</td><td>Number of bytes of data to write </td></tr>
    <tr><td class="paramname">stable</td><td>Specifies when the server may commit data to stable storage </td></tr>
    <tr><td class="paramname">callback</td><td>Callback function to call when operation returns </td></tr>
    <tr><td class="paramname">cbarg</td><td>Opaque argument word passed to callback function</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success, error code on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
