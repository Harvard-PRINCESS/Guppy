<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: lib/barrelfish/vspace/pinned.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_fb59824686554dca48bb2d83e9c24bc6.html">barrelfish</a></li><li class="navelem"><a class="el" href="dir_45403ece9c78582bb9d5bfd987ebdcb8.html">vspace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pinned.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Managing the pinned memory for vspace metadata.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a46386f177648dd414d099ae1f324b980"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pinned_8c.html#a46386f177648dd414d099ae1f324b980">vspace_pinned_init</a> (void)</td></tr>
<tr class="memdesc:a46386f177648dd414d099ae1f324b980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the pinned region.  <a href="#a46386f177648dd414d099ae1f324b980">More...</a><br /></td></tr>
<tr class="separator:a46386f177648dd414d099ae1f324b980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b70d5ea2d510164f2b9ffe21ee4ede9"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pinned_8c.html#a7b70d5ea2d510164f2b9ffe21ee4ede9">vspace_pinned_alloc</a> (void **retbuf, enum slab_type slab_type)</td></tr>
<tr class="memdesc:a7b70d5ea2d510164f2b9ffe21ee4ede9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate some slabs.  <a href="#a7b70d5ea2d510164f2b9ffe21ee4ede9">More...</a><br /></td></tr>
<tr class="separator:a7b70d5ea2d510164f2b9ffe21ee4ede9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Managing the pinned memory for vspace metadata. </p>
<p>Warning: This code is coupled with code in slot_alloc/. and pmap_*.</p>
<p>Slabs required for various lists in vspace and memobj are backed by this memobj. This memory is pinned since the frames are not tracked and cannot be mapped into multiple vregions.</p>
<p>If the slabs maintained in the state are out of memory, it needs to be grown. This file will require 1 slot for frame capability and additional to create the mappings. The amount required can be calculated by refering to the pmap_*.</p>
<p>Growing requires 1 slot from this file. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7b70d5ea2d510164f2b9ffe21ee4ede9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t vspace_pinned_alloc </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>retbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum slab_type slab_type&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate some slabs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">retbuf</td><td>Pointer to return the allocated memory </td></tr>
    <tr><td class="paramname">slab_type</td><td>Type of slab the memory is allocated for</td></tr>
  </table>
  </dd>
</dl>
<p>Since this region is used for backing specific slabs, only those types of slabs can be allocated. </p>

</div>
</div>
<a class="anchor" id="a46386f177648dd414d099ae1f324b980"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t vspace_pinned_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the pinned region. </p>
<p>Allocates a region of virtual address space and initializes its state. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
