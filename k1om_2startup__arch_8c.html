<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: kernel/arch/k1om/startup_arch.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_4a04b9aac4eefdd334a78e565f4616f2.html">arch</a></li><li class="navelem"><a class="el" href="dir_3506aa88125d36c002020e1ca3ba074e.html">k1om</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">startup_arch.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>x86_64 kernel bootup code.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8fbc248b6131e53773c79803e13cd4d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fbc248b6131e53773c79803e13cd4d2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k1om_2startup__arch_8c.html#a8fbc248b6131e53773c79803e13cd4d2">CNODE</a>(<a class="el" href="structcte.html">cte</a>)&#160;&#160;&#160;get_address(&amp;(<a class="el" href="structcte.html">cte</a>)-&gt;cap)</td></tr>
<tr class="memdesc:a8fbc248b6131e53773c79803e13cd4d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick way to find the base address of a cnode capability. <br /></td></tr>
<tr class="separator:a8fbc248b6131e53773c79803e13cd4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96795457c25589797c017a2695fe5757"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k1om_2startup__arch_8c.html#a96795457c25589797c017a2695fe5757">INIT_PDPT_SIZE</a>&#160;&#160;&#160;<a class="el" href="x86__64_2paging__kernel__arch_8h.html#a24bd6efcfb89976e46d0fc783ba88415">X86_64_PDPT_ENTRIES</a>(<a class="el" href="k1om_2offsets__target_8h.html#a8923c36c318c170f216e12f78264dacd">K1OM_INIT_SPACE_LIMIT</a>)</td></tr>
<tr class="separator:a96795457c25589797c017a2695fe5757"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9151153b53a346c1ce4b9e9d034fa45e"><td class="memItemLeft" align="right" valign="top">errval_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="k1om_2startup__arch_8c.html#a9151153b53a346c1ce4b9e9d034fa45e">startup_map_init</a> (lvaddr_t vbase, lpaddr_t base, size_t size, uint32_t flags)</td></tr>
<tr class="memdesc:a9151153b53a346c1ce4b9e9d034fa45e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map init user-space memory.  <a href="#a9151153b53a346c1ce4b9e9d034fa45e">More...</a><br /></td></tr>
<tr class="separator:a9151153b53a346c1ce4b9e9d034fa45e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>x86_64 kernel bootup code. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a96795457c25589797c017a2695fe5757"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INIT_PDPT_SIZE&#160;&#160;&#160;<a class="el" href="x86__64_2paging__kernel__arch_8h.html#a24bd6efcfb89976e46d0fc783ba88415">X86_64_PDPT_ENTRIES</a>(<a class="el" href="k1om_2offsets__target_8h.html#a8923c36c318c170f216e12f78264dacd">K1OM_INIT_SPACE_LIMIT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>init's needed boot pages. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9151153b53a346c1ce4b9e9d034fa45e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">errval_t startup_map_init </td>
          <td>(</td>
          <td class="paramtype">lvaddr_t&#160;</td>
          <td class="paramname"><em>vbase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lpaddr_t&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Map init user-space memory. </p>
<p>This function maps pages of the init user-space module. It expects the virtual base address 'vbase' of a program segment of the init executable, its size 'size' and its ELF64 access control flags. It maps pages to the sequential area of physical memory, given by 'base'. If you want to allocate physical memory frames as you go, you better use <a class="el" href="startup__x86_8c.html#a8ec3d54225aa32f26c2975513d267e88" title="Map init user-space memory. ">startup_alloc_init()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vbase</td><td>Virtual base address of program segment. </td></tr>
    <tr><td class="paramname">base</td><td>Physical base address of program segment. </td></tr>
    <tr><td class="paramname">size</td><td>Size of program segment in bytes. </td></tr>
    <tr><td class="paramname">flags</td><td>ELF64 access control flags of program segment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
