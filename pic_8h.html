<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: kernel/include/arch/x86/pic.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_009f605b833ac4622acd6c3c0c26c0f0.html">include</a></li><li class="navelem"><a class="el" href="dir_b938bbc65f66dd090a6a00a71c65b7d8.html">arch</a></li><li class="navelem"><a class="el" href="dir_8aa66e5a68be2da2209999477e9ded0d.html">x86</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pic.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for classic 8259A PIC.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afc70164c232cee70941b16e3f2ca029a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic_8h.html#afc70164c232cee70941b16e3f2ca029a">pic_init</a> (void)</td></tr>
<tr class="memdesc:afc70164c232cee70941b16e3f2ca029a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize 8259A.  <a href="#afc70164c232cee70941b16e3f2ca029a">More...</a><br /></td></tr>
<tr class="separator:afc70164c232cee70941b16e3f2ca029a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac166b7c33bd0543d315ff5a6e05c3cc6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac166b7c33bd0543d315ff5a6e05c3cc6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic_8h.html#ac166b7c33bd0543d315ff5a6e05c3cc6">pic_have_interrupt</a> (int irq)</td></tr>
<tr class="memdesc:ac166b7c33bd0543d315ff5a6e05c3cc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns true iff the PIC has an interrupt pending <br /></td></tr>
<tr class="separator:ac166b7c33bd0543d315ff5a6e05c3cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a980fd5c448bf87032be67b4374354add"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic_8h.html#a980fd5c448bf87032be67b4374354add">pic_pending_interrupt</a> (void)</td></tr>
<tr class="memdesc:a980fd5c448bf87032be67b4374354add"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries the PIC for pending interrupts.  <a href="#a980fd5c448bf87032be67b4374354add">More...</a><br /></td></tr>
<tr class="separator:a980fd5c448bf87032be67b4374354add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58b11f9cfbfe9217a7e9a256f6a1038"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac58b11f9cfbfe9217a7e9a256f6a1038"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic_8h.html#ac58b11f9cfbfe9217a7e9a256f6a1038">pic_eoi</a> (int irq)</td></tr>
<tr class="memdesc:ac58b11f9cfbfe9217a7e9a256f6a1038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send end of interrupt. <br /></td></tr>
<tr class="separator:ac58b11f9cfbfe9217a7e9a256f6a1038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d3d064495ab8b91dbbc2a22e5483f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pic_8h.html#a61d3d064495ab8b91dbbc2a22e5483f9">pic_toggle_irq</a> (int irq, bool enable)</td></tr>
<tr class="memdesc:a61d3d064495ab8b91dbbc2a22e5483f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable/Disable interrupt 'irq'.  <a href="#a61d3d064495ab8b91dbbc2a22e5483f9">More...</a><br /></td></tr>
<tr class="separator:a61d3d064495ab8b91dbbc2a22e5483f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for classic 8259A PIC. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afc70164c232cee70941b16e3f2ca029a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pic_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize 8259A. </p>
<p>Initializes both master and slave 8259A in the standard cascaded way (slave attached to IR line 2 of master). Sets off interrupts by 32, leaving the lower 32 IRQs reserved for processor exceptions, as required by protected mode. Sets all interrupts to edge triggered. Finally, masks out all interrupts. If an interrupt is expected by the OS, it has to be unmasked individually. </p>

</div>
</div>
<a class="anchor" id="a980fd5c448bf87032be67b4374354add"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pic_pending_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries the PIC for pending interrupts. </p>
<dl class="section return"><dt>Returns</dt><dd>IRQ number of pending interrupt, or -1 if nothing is pending </dd></dl>

</div>
</div>
<a class="anchor" id="a61d3d064495ab8b91dbbc2a22e5483f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pic_toggle_irq </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>irq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable/Disable interrupt 'irq'. </p>
<p>Be careful to serialize calls to this function on a multiprocessor. In general, the classic 8259A should not be used on a multiprocessor. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
