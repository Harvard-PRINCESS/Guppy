<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: kernel/include/logging.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="dir_009f605b833ac4622acd6c3c0c26c0f0.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">logging.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Kernel logging infrastructure headers.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa42819341d42e450f7a23dc59191a116"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#aa42819341d42e450f7a23dc59191a116">debug</a>(_subs,  _fmt, ...)</td></tr>
<tr class="memdesc:aa42819341d42e450f7a23dc59191a116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a kernel debug message.  <a href="#aa42819341d42e450f7a23dc59191a116">More...</a><br /></td></tr>
<tr class="separator:aa42819341d42e450f7a23dc59191a116"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2a3ad5d10bdfe9a5a0f13ec9c6d209a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#a2a3ad5d10bdfe9a5a0f13ec9c6d209a2">panic</a> (const char *,...)</td></tr>
<tr class="memdesc:a2a3ad5d10bdfe9a5a0f13ec9c6d209a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a message and halt the kernel.  <a href="#a2a3ad5d10bdfe9a5a0f13ec9c6d209a2">More...</a><br /></td></tr>
<tr class="separator:a2a3ad5d10bdfe9a5a0f13ec9c6d209a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe66a2c139a5fe487f5973ca8a22f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#aafe66a2c139a5fe487f5973ca8a22f38">printk</a> (int level, const char *msg,...)</td></tr>
<tr class="memdesc:aafe66a2c139a5fe487f5973ca8a22f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a kernel message.  <a href="#aafe66a2c139a5fe487f5973ca8a22f38">More...</a><br /></td></tr>
<tr class="separator:aafe66a2c139a5fe487f5973ca8a22f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9ef237ac5d97b535a0751dc8dc198174"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#a9ef237ac5d97b535a0751dc8dc198174">kernel_loglevel</a></td></tr>
<tr class="separator:a9ef237ac5d97b535a0751dc8dc198174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce7c216e7f09910d7c8a765ff1a2a70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logging_8h.html#acce7c216e7f09910d7c8a765ff1a2a70">kernel_log_subsystem_mask</a></td></tr>
<tr class="separator:acce7c216e7f09910d7c8a765ff1a2a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Kernel logging infrastructure headers. </p>
<p>All C source in the kernel should include this file first. This file should contain only definitions and prototypes that are required for the majority of kernel code. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa42819341d42e450f7a23dc59191a116"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define debug</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_subs, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_fmt, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">    if (((_subs) &amp; <a class="code" href="logging_8h.html#acce7c216e7f09910d7c8a765ff1a2a70">kernel_log_subsystem_mask</a>) &amp;&amp; (<a class="code" href="logging_8h.html#a9ef237ac5d97b535a0751dc8dc198174">kernel_loglevel</a> &gt;= <a class="code" href="logging_8h.html#a36076d046317b2abd9966b571d237751ab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>)) <a class="code" href="logging_8h.html#aafe66a2c139a5fe487f5973ca8a22f38">\</a></div><div class="line"><a class="code" href="logging_8h.html#aafe66a2c139a5fe487f5973ca8a22f38">        printk</a>(<a class="code" href="logging_8h.html#a36076d046317b2abd9966b571d237751ab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>, _fmt, ## __VA_ARGS__); \</div><div class="line">} <span class="keywordflow">while</span>(0)</div><div class="ttc" id="logging_8h_html_a9ef237ac5d97b535a0751dc8dc198174"><div class="ttname"><a href="logging_8h.html#a9ef237ac5d97b535a0751dc8dc198174">kernel_loglevel</a></div><div class="ttdeci">int kernel_loglevel</div><div class="ttdef"><b>Definition:</b> logging.c:31</div></div>
<div class="ttc" id="logging_8h_html_a36076d046317b2abd9966b571d237751ab9f002c6ffbfd511da8090213227454e"><div class="ttname"><a href="logging_8h.html#a36076d046317b2abd9966b571d237751ab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a></div><div class="ttdoc">Debug. </div><div class="ttdef"><b>Definition:</b> logging.h:64</div></div>
<div class="ttc" id="logging_8h_html_acce7c216e7f09910d7c8a765ff1a2a70"><div class="ttname"><a href="logging_8h.html#acce7c216e7f09910d7c8a765ff1a2a70">kernel_log_subsystem_mask</a></div><div class="ttdeci">int kernel_log_subsystem_mask</div><div class="ttdef"><b>Definition:</b> logging.c:37</div></div>
<div class="ttc" id="logging_8h_html_aafe66a2c139a5fe487f5973ca8a22f38"><div class="ttname"><a href="logging_8h.html#aafe66a2c139a5fe487f5973ca8a22f38">printk</a></div><div class="ttdeci">void printk(int level, const char *msg,...)</div><div class="ttdoc">Log a kernel message. </div><div class="ttdef"><b>Definition:</b> logging.c:69</div></div>
</div><!-- fragment -->
<p>Log a kernel debug message. </p>
<p>Logs printf()-style debug message 'fmt' from subsystem 'subs' to the default kernel console(s). Additional arguments are like printf(). Whether the message is put out depends on the current kernel log level, as well as on the current kernel subsystem log mask. 'debug' is a macro so that the cost of marshalling the arguments is avoided if the relevant debugging is disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_subs</td><td>Subsystem this message stems from. </td></tr>
    <tr><td class="paramname">_fmt</td><td>The message (printf() format string) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a36076d046317b2abd9966b571d237751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="logging_8h.html#a36076d046317b2abd9966b571d237751">KERNEL_LOG_LEVEL</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel message loglevels. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a36076d046317b2abd9966b571d237751ac67d94832085125b264298faa1ba1f19"></a>LOG_PANIC&#160;</td><td class="fielddoc">
<p>Panic. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a36076d046317b2abd9966b571d237751a0b4d9ad891dde7ae8deeb1704195858c"></a>LOG_ERR&#160;</td><td class="fielddoc">
<p>Error. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a36076d046317b2abd9966b571d237751ac8041ffa22bc823d4726701cdb13fc13"></a>LOG_WARN&#160;</td><td class="fielddoc">
<p>Warning. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a36076d046317b2abd9966b571d237751a48eb14b9ea6961a0ce6ef0838df7d41b"></a>LOG_NOTE&#160;</td><td class="fielddoc">
<p>Notice. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a36076d046317b2abd9966b571d237751ab9f002c6ffbfd511da8090213227454e"></a>LOG_DEBUG&#160;</td><td class="fielddoc">
<p>Debug. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="abf9614d4296dda8b212b660751b71dd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="logging_8h.html#abf9614d4296dda8b212b660751b71dd7">KERNEL_SUBSYSTEM</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel subsystems. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7a0b86b30a7fcffbbfdf819436eeaab61a"></a>SUBSYS_STARTUP&#160;</td><td class="fielddoc">
<p>Startup. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7aa7cb44544f838d908eb5c55067b50020"></a>SUBSYS_GDB&#160;</td><td class="fielddoc">
<p>GDB stub. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7ad780d2ef34e2f2ced577b6095f5b2681"></a>SUBSYS_APIC&#160;</td><td class="fielddoc">
<p>APIC driver. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7aa6c7f008f5879794b5039a4ec466aca5"></a>SUBSYS_ELF&#160;</td><td class="fielddoc">
<p>ELF64 loader. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7a7d0155a4e7e0010886a3f5fee6562f66"></a>SUBSYS_PAGING&#160;</td><td class="fielddoc">
<p>Paging. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7aa1e159ab05f086b6deaca16e4e887511"></a>SUBSYS_SYSCALL&#160;</td><td class="fielddoc">
<p>System calls. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7ac73893cb561e1fd15da0383536b282d9"></a>SUBSYS_CAPS&#160;</td><td class="fielddoc">
<p>Capabilities. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7affa7d57a537ad528430c3c1b20c3fd52"></a>SUBSYS_DISPATCH&#160;</td><td class="fielddoc">
<p>Scheduling and dispatch. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abf9614d4296dda8b212b660751b71dd7a9436d171c854697642bb0273c0432c03"></a>SUBSYS_IO&#160;</td><td class="fielddoc">
<p>Low-level IO operations. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2a3ad5d10bdfe9a5a0f13ec9c6d209a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void panic </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a message and halt the kernel. </p>
<p>Something irrecoverably bad happened. Print a panic message, then halt. </p>

</div>
</div>
<a class="anchor" id="aafe66a2c139a5fe487f5973ca8a22f38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printk </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log a kernel message. </p>
<p>Logs printf()-style message 'msg', having loglevel 'level' to the default kernel console(s). Additional arguments are like printf(). Whether the message is put out depends on the current kernel log level.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Loglevel of message. </td></tr>
    <tr><td class="paramname">msg</td><td>The message (printf() format string) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="acce7c216e7f09910d7c8a765ff1a2a70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kernel_log_subsystem_mask</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Command-line variable to control which subsystems log. Bits defined SUBSYS_* definitions in this file.</p>
<p>Default kernel subsystem message mask. Determines messages of what subsystems get output. </p>

</div>
</div>
<a class="anchor" id="a9ef237ac5d97b535a0751dc8dc198174"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kernel_loglevel</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Command-line variable to set kernel logging level.</p>
<p>Global kernel loglevel. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
