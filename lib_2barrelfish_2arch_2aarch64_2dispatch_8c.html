<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Barrelfish: lib/barrelfish/arch/aarch64/dispatch.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barrelfish
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_fb59824686554dca48bb2d83e9c24bc6.html">barrelfish</a></li><li class="navelem"><a class="el" href="dir_9b5ccfa13a9d3d897cca392488d8e93f.html">arch</a></li><li class="navelem"><a class="el" href="dir_27ae3c86f0d09dd1732da5113577edd8.html">aarch64</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dispatch.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Dispatcher architecture-specific implementation.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac90d34576616c6e6138682e3c1d2821"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2barrelfish_2arch_2aarch64_2dispatch_8c.html#aac90d34576616c6e6138682e3c1d2821">disp_resume</a> (dispatcher_handle_t handle, <a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *archregs)</td></tr>
<tr class="memdesc:aac90d34576616c6e6138682e3c1d2821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume execution of a given register state.  <a href="#aac90d34576616c6e6138682e3c1d2821">More...</a><br /></td></tr>
<tr class="separator:aac90d34576616c6e6138682e3c1d2821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd385cd73fb347e36908f736dc51312"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2barrelfish_2arch_2aarch64_2dispatch_8c.html#aecd385cd73fb347e36908f736dc51312">disp_switch</a> (dispatcher_handle_t handle, <a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *from_state, <a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *to_state)</td></tr>
<tr class="memdesc:aecd385cd73fb347e36908f736dc51312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch execution between two register states.  <a href="#aecd385cd73fb347e36908f736dc51312">More...</a><br /></td></tr>
<tr class="separator:aecd385cd73fb347e36908f736dc51312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54616819ff22125e3862c820fc686e66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2barrelfish_2arch_2aarch64_2dispatch_8c.html#a54616819ff22125e3862c820fc686e66">disp_save</a> (dispatcher_handle_t handle, <a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *state, bool yield, capaddr_t yield_to)</td></tr>
<tr class="memdesc:a54616819ff22125e3862c820fc686e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the current register state and optionally yield the CPU.  <a href="#a54616819ff22125e3862c820fc686e66">More...</a><br /></td></tr>
<tr class="separator:a54616819ff22125e3862c820fc686e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce3d2bb04ff0458de02de43da7520bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ce3d2bb04ff0458de02de43da7520bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lib_2barrelfish_2arch_2aarch64_2dispatch_8c.html#a5ce3d2bb04ff0458de02de43da7520bf">disp_arch_init</a> (dispatcher_handle_t handle)</td></tr>
<tr class="memdesc:a5ce3d2bb04ff0458de02de43da7520bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Architecture-specific dispatcher initialisation. <br /></td></tr>
<tr class="separator:a5ce3d2bb04ff0458de02de43da7520bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Dispatcher architecture-specific implementation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aac90d34576616c6e6138682e3c1d2821"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disp_resume </td>
          <td>(</td>
          <td class="paramtype">dispatcher_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *&#160;</td>
          <td class="paramname"><em>archregs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume execution of a given register state. </p>
<p>This function resumes the execution of the given register state on the current dispatcher. It may only be called while the dispatcher is disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disp</td><td>Current dispatcher pointer </td></tr>
    <tr><td class="paramname">regs</td><td>Register state snapshot </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a54616819ff22125e3862c820fc686e66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disp_save </td>
          <td>(</td>
          <td class="paramtype">dispatcher_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">capaddr_t&#160;</td>
          <td class="paramname"><em>yield_to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save the current register state and optionally yield the CPU. </p>
<p>This function saves as much as necessary of the current register state (which, when resumed will return to the caller), and then either re-enters the thread scheduler or yields the CPU. It may only be called while the dispatcher is disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disp</td><td>Current dispatcher pointer </td></tr>
    <tr><td class="paramname">regs</td><td>Location to save current register state </td></tr>
    <tr><td class="paramname">yield</td><td>If true, yield CPU to kernel; otherwise re-run thread scheduler </td></tr>
    <tr><td class="paramname">yield_to</td><td>Endpoint capability for dispatcher to which we want to yield </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aecd385cd73fb347e36908f736dc51312"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void disp_switch </td>
          <td>(</td>
          <td class="paramtype">dispatcher_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *&#160;</td>
          <td class="paramname"><em>from_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aarch64_2barrelfish__kpi_2registers__arch_8h.html#a260f9df813cadea0f29f10991f31b67d">arch_registers_state_t</a> *&#160;</td>
          <td class="paramname"><em>to_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch execution between two register states. </p>
<p>Switch execution between two register states, and turn off disabled activations.</p>
<p>This function saves as much as necessary of the current register state (which, when resumed will return to the caller), and switches execution by resuming the given register state. It may only be called while the dispatcher is disabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disp</td><td>Current dispatcher pointer </td></tr>
    <tr><td class="paramname">from_regs</td><td>Location to save current register state </td></tr>
    <tr><td class="paramname">to_regs</td><td>Location from which to resume new register state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
